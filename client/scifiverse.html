<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sci-FiVerse | Mayukh 2026</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --neon: #3bc4ff; --bg: #02050a; }
    body { background-color: var(--bg); color: var(--neon); font-family: 'Rajdhani', sans-serif; overflow-x: hidden; }
    .orbitron { font-family: 'Orbitron', sans-serif; }
    
    /* Sci-Fi Background Grid */
    .perspective-container { perspective: 1000px; position: fixed; inset: 0; z-index: 0; pointer-events: none; }
    .grid-plane { position: absolute; width: 200%; height: 100%; bottom: -10%; left: -50%; background-image: linear-gradient(to right, rgba(59, 196, 255, 0.1) 1px, transparent 1px), linear-gradient(to bottom, rgba(59, 196, 255, 0.1) 1px, transparent 1px); background-size: 60px 60px; transform: rotateX(60deg); animation: grid-move 20s linear infinite; }
    @keyframes grid-move { from { background-position: 0 0; } to { background-position: 0 100%; } }
    .cyan-glow { text-shadow: 0 0 15px var(--neon), 0 0 30px rgba(59, 196, 255, 0.5); }
    .glass { background: rgba(255, 255, 255, 0.06); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.15); }

    /* ==========================================
       TECH-EVENTS STYLE PREMIUM CARDS (FIXED IMAGE FIT)
       ========================================== */
    .event-card {
      background: transparent;
      border: none;
      border-radius: 1.25rem;
      overflow: visible;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .event-card:hover {
      transform: translateY(-5px);
    }

    /* Fixed container: No forced height, lets image fill 100% width naturally */
    .event-card-poster {
      position: relative;
      width: 100%;
      background: #000;
      background-size: cover;
      background-position: center;
      overflow: hidden;
      border-radius: 1.25rem;
      border: 3px solid rgba(255, 255, 255, 0.9);
      box-shadow: 0 0 40px rgba(59, 196, 255, 0.2), inset 0 0 30px rgba(0, 0, 0, 0.4);
      padding: 0.75rem;
      cursor: pointer;
    }

    .event-card-poster::before {
      content: '';
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      filter: blur(30px) brightness(0.25);
      z-index: 1;
      border-radius: 0.75rem;
      background-image: inherit; /* Copies bg image from inline style for blur */
    }

    /* Image takes 100% width, height adjusts automatically just like tech-events.html */
    .event-card-poster img.main-poster {
      position: relative;
      z-index: 2;
      width: 100%;
      height: auto; 
      object-fit: contain;
      object-position: center;
      display: block;
      background: transparent;
      border-radius: 0.5rem;
      transition: transform 0.4s ease;
    }

    .event-card-poster:hover img.main-poster {
      transform: scale(1.05);
    }

    .event-card-body {
      padding: 1.25rem 0;
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      background: transparent;
    }

    .event-card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1rem;
    }

    .event-card-logo {
      width: 2.5rem;
      height: 2.5rem;
      background: rgba(59, 196, 255, 0.08);
      border-radius: 0.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      overflow: hidden;
      border: 1px solid rgba(59, 196, 255, 0.2);
    }

    .event-card-logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      padding: 0.375rem;
    }

    .event-card-badge {
      font-size: 0.7rem;
      background: rgba(59, 196, 255, 0.08);
      padding: 0.4rem 0.8rem;
      border-radius: 9999px;
      border: 1px solid rgba(59, 196, 255, 0.2);
      color: #66fcf1;
      white-space: nowrap;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .event-card-title {
      font-size: 1rem;
      font-weight: 900;
      color: #3bc4ff;
      line-clamp: 2;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      line-height: 1.2;
      margin-bottom: 0.25rem;
    }

    .event-card-description {
      color: #8a8a8a;
      font-size: 0.8rem;
      line-height: 1.4;
      flex: 1;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .event-card-footer {
      display: flex;
      gap: 0.75rem;
      margin-top: 0.75rem;
    }

    .event-card-btn {
      flex: 1;
      padding: 0.75rem;
      border-radius: 0.5rem;
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      font-family: 'Orbitron', sans-serif;
    }

    .event-card-info-btn {
      background: rgba(59, 196, 255, 0.08);
      color: #3bc4ff;
      border: 1px solid rgba(59, 196, 255, 0.3);
    }

    .event-card-info-btn:hover {
      background: rgba(59, 196, 255, 0.15);
      border-color: rgba(59, 196, 255, 0.6);
      transform: translateY(-2px);
    }

    .event-card-register-btn {
      background: linear-gradient(135deg, #3bc4ff 0%, #06b6d4 100%);
      color: #000;
      font-weight: 900;
    }

    .event-card-register-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(59, 196, 255, 0.3);
    }

    /* Modals */
    .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(0, 0, 0, 0.95); z-index: 1000; backdrop-filter: blur(12px); }
    .modal-overlay.active { display: flex; align-items: center; justify-content: center; }
    
    .detail-panel { display: none; position: fixed; inset: 0; background: rgba(0, 0, 0, 0.95); z-index: 1001; overflow-y: auto; }
    .detail-panel.active { display: block; animation: fadeIn 0.3s ease; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .panel-content { background: #0a192d; border: 2px solid var(--neon); border-radius: 1.25rem; max-width: 1200px; width: 92%; margin: 2rem auto; position: relative; box-shadow: 0 0 50px rgba(59, 196, 255, 0.3); padding: 2rem; }
    .close-btn { position: absolute; top: 1.5rem; right: 1.5rem; color: var(--neon); cursor: pointer; font-size: 1.8rem; z-index: 50; transition: transform 0.3s; }
    .close-btn:hover { transform: rotate(90deg); color: #fff; }

    .info-label { font-family: 'Orbitron', sans-serif; font-size: 0.65rem; opacity: 0.5; color: var(--neon); letter-spacing: 0.1em; }
    .info-value { font-size: 1rem; font-weight: 700; color: white; }

    @media (max-width: 640px) {
      .event-card-poster { border-width: 2px; padding: 0.5rem; border-radius: 1rem; }
      .event-card-body { padding: 0.75rem 0; gap: 0.35rem; }
      .event-card-title { font-size: 0.85rem; }
      .event-card-description { font-size: 0.75rem; }
      .event-card-badge { font-size: 0.6rem; padding: 0.3rem 0.6rem; }
      .event-card-btn { padding: 0.6rem; font-size: 0.65rem; }
      .event-card-logo { width: 2rem; height: 2rem; }
    }
  </style>
</head>
<body>
  <a href="theme2.html#sci-fi-verse" class="fixed top-4 left-4 sm:top-6 sm:left-6 z-50 glass px-3 py-2 sm:px-6 sm:py-3 rounded-xl border border-cyan-900/40 flex items-center gap-2 hover:border-cyan-500 transition-all text-cyan-400">
      <i class="fa-solid fa-chevron-left text-xs sm:text-sm"></i>
      <span class="text-[0.6rem] sm:text-xs tracking-widest orbitron font-bold">THEME</span>
  </a>
  <div class="perspective-container"><div class="grid-plane"></div></div>

  <main class="relative z-10 flex flex-col items-center pt-16 sm:pt-20 md:pt-24 pb-16 sm:pb-24 md:pb-32">
    <div class="text-center mb-24">
      <h1 class="orbitron text-3xl sm:text-5xl md:text-6xl lg:text-8xl font-black cyan-glow mb-4 md:mb-6 tracking-tighter italic">SCI-FIVERSE</h1>
      <div class="flex items-center justify-center space-x-4 opacity-60 mb-8">
        <div class="h-px w-20 bg-cyan-400"></div><span class="orbitron text-xs uppercase tracking-widest">Beyond the Horizon</span><div class="h-px w-20 bg-cyan-400"></div>
      </div>
      <p class="max-w-3xl text-xl text-cyan-100/60 rajdhani font-light leading-relaxed">Where robotics meet AI. Explore the future.</p>
    </div>

    <div id="scifi-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8 max-w-[95%] w-full px-3 sm:px-4 lg:px-8">
        <p class="col-span-full text-center text-cyan-500 animate-pulse orbitron">ESTABLISHING UPLINK...</p>
    </div>
  </main>

  <div id="poster-modal" class="modal-overlay" onclick="closePosterModal()">
    <div class="absolute top-6 right-8 cursor-pointer text-white hover:text-cyan-400 text-3xl transition-all" onclick="closePosterModal()"><i class="fa-solid fa-xmark"></i></div>
    <img id="modal-poster-img" class="max-w-[90vw] max-h-[85vh] object-contain rounded-2xl shadow-[0_0_40px_rgba(59,196,255,0.4)]">
  </div>

  <div id="detail-panel" class="detail-panel">
    <div id="panel-body" class="panel-content"></div>
  </div>

  <script src="api-config.js"></script>
  <script>
    const CURRENT_VERSE = 'scifi-verse';
    let allEvents = [];

    function openPosterModal(url) {
      document.getElementById('modal-poster-img').src = url;
      document.getElementById('poster-modal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    function closePosterModal() { 
      document.getElementById('poster-modal').classList.remove('active'); 
      document.body.style.overflow = 'auto';
    }

    function openDetailPanel(id) {
      const event = allEvents.find(e => (e._id || e.id || e.title.replace(/\s+/g, '-')) === id);
      if(!event) return;
      document.getElementById('panel-body').innerHTML = `
        <i class="fas fa-times close-btn" onclick="closeDetailPanel()"></i>
        <div class="grid lg:grid-cols-2 gap-10">
          <div class="flex items-center justify-center bg-black/40 p-4 border border-cyan-900/30 rounded-xl">
            <img src="${event.posterLink}" class="max-h-[70vh] object-contain border border-cyan-500 rounded-lg shadow-xl">
          </div>
          <div class="flex flex-col">
            <div class="flex items-center gap-4 mb-4">
              ${event.logoLink ? `<img src="${event.logoLink}" class="w-16 h-16 object-contain border border-cyan-500/30 p-2 rounded-lg bg-cyan-900/20">` : ''}
              <div>
                <h2 class="orbitron text-3xl font-bold text-cyan-400 uppercase tracking-tight leading-tight">${event.title}</h2>
                <span class="inline-block mt-2 text-xs bg-cyan-500/20 text-cyan-300 px-3 py-1 rounded-full border border-cyan-500/40 uppercase tracking-widest">${event.eventType || 'Event'}</span>
              </div>
            </div>
            
            <p class="text-cyan-100/80 mb-8 leading-relaxed text-base">${event.description || 'Details coming soon.'}</p>
            
            <div class="grid grid-cols-2 gap-6 bg-cyan-900/10 p-6 rounded-xl border border-cyan-900/30">
              <div><span class="info-label">DATE</span><p class="info-value">${event.day || 'TBA'}</p></div>
              <div><span class="info-label">TIME</span><p class="info-value">${event.time || 'TBA'}</p></div>
              ${event.venue ? `<div class="col-span-2"><span class="info-label">VENUE</span><p class="info-value">${event.venue}</p></div>` : ''}
            </div>
            
            <a href="${event.registrationLink || '#'}" target="_blank" class="event-card-register-btn w-full mt-auto py-4 rounded-xl text-center text-lg shadow-lg shadow-cyan-500/30">REGISTER NOW</a>
          </div>
        </div>`;
      document.getElementById('detail-panel').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    function closeDetailPanel() { 
      document.getElementById('detail-panel').classList.remove('active'); 
      document.body.style.overflow = 'auto';
    }

    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') { closePosterModal(); closeDetailPanel(); }
    });

    // ========================================================
    // CREATE CARD (Exactly matched with tech-events.html)
    // ========================================================
    function createCardHTML(event) {
        const id = event._id || event.id || event.title.replace(/\s+/g, '-');
        const poster = event.posterLink || '';
        const logo = event.logoLink || '';
        
        return `
          <div class="event-card">
            <div class="event-card-poster group" style="background-image: url('${poster}')" onclick="openPosterModal('${poster}')">
                <img src="${poster}" class="main-poster" alt="${event.title}">
                <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center z-10 rounded-[1.25rem]">
                    <i class="fas fa-search-plus text-4xl text-white drop-shadow-lg"></i>
                </div>
            </div>
            
            <div class="event-card-body">
              <div class="event-card-header">
                <div class="event-card-logo">
                  ${logo ? `<img src="${logo}" alt="Logo">` : `<i class="fa-solid fa-microchip text-sm text-cyan-400"></i>`}
                </div>
                <span class="event-card-badge">${event.day || 'TBA'}</span>
              </div>
              
              <h3 class="event-card-title" title="${event.title}">${event.title}</h3>
              <p class="event-card-description">${event.description || 'Details to be revealed...'}</p>
              
              <div class="event-card-footer">
                <button onclick="openDetailPanel('${id}')" class="event-card-btn event-card-info-btn">
                  <i class="fa-solid fa-info-circle text-xs"></i> INFO
                </button>
                <a href="${event.registrationLink || '#'}" target="_blank" class="event-card-btn event-card-register-btn">
                  REGISTER
                </a>
              </div>
            </div>
          </div>`;
    }

    async function loadData() {
        try {
          const res = await fetch(API_CONFIG.eventsUrl);
          const data = await res.json();
          allEvents = (data.events || []).filter(e => e.category === CURRENT_VERSE);
          document.getElementById('scifi-container').innerHTML = allEvents.length > 0 ? 
            allEvents.map(createCardHTML).join('') : `<p class="col-span-full text-center text-cyan-500 font-bold orbitron tracking-widest text-2xl mt-10">NO SIGNAL DETECTED</p>`;
        } catch(err) { 
            console.error('Uplink Failed:', err); 
            document.getElementById('scifi-container').innerHTML = `<p class="col-span-full text-center text-red-500 orbitron">SYSTEM ERROR: CONNECTION LOST</p>`;
        }
    }
    loadData();
  </script>
</body>
</html>